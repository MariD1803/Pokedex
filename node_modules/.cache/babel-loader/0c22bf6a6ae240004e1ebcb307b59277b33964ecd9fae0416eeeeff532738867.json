{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport HelloWorld from './components/HelloWorld.vue';\nexport default {\n  name: 'App',\n  components: {\n    HelloWorld\n  },\n  data() {\n    return {\n      welcome: {\n        title: 'Welcome to Pokédex',\n        info: 'The digital encyclopedia created by Professor Oak is an invaluable tool to Trainers in the Pokémon world.'\n      },\n      error: {\n        title: 'Uh-oh!',\n        msg: 'You look lost on your journey!'\n      },\n      havent: {\n        title: 'Oh-no!',\n        msg: \"You doesn't have any favorite pokemon!\"\n      },\n      display: false,\n      displaySpinner: false,\n      searchInput: '',\n      results: [],\n      favorites: [],\n      displaySearch: true,\n      displayFavorites: false,\n      modal: false,\n      pokemon: []\n    };\n  },\n  methods: {\n    setDisplay(result) {\n      this.displaySpinner = true;\n      setTimeout(() => {\n        this.displaySpinner = false;\n        this.display = result;\n        this.clearSearch();\n      }, 1900);\n    },\n    async displayModal(pokemon, idx) {\n      const response = await fetch(pokemon.url);\n      this.pokemon = await response.json();\n      this.pokemon.idx = idx;\n      this.pokemon.favorite = pokemon.favorite != '' ? pokemon.favorite : '';\n      this.modal = true;\n    },\n    markFavorites() {\n      for (let i = 0; i < this.results.length; i++) {\n        for (let j = 0; j < this.store.favorites.length; j++) {\n          if (this.results[i].name === this.store.favorites[j].name) {\n            this.results[i].favorite = 'true';\n          }\n        }\n      }\n    },\n    async getPokemons() {\n      try {\n        const response = await fetch(url);\n        let result = await response.json();\n        this.results = this.sortAlphabetically(result.results);\n        this.markFavorites();\n      } catch (error) {\n        this.results = [];\n      }\n    },\n    async search() {\n      await this.getPokemons();\n      this.store.favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n      let filteredResults = [];\n      this.markFavorites();\n      if (this.displaySearch) {\n        if (this.results.length) {\n          filteredResults = this.results.filter(item => {\n            const itemName = item.name.toLowerCase().trim();\n            const input = this.searchInput.toLowerCase().trim();\n            return itemName.includes(input);\n          });\n          if (!filteredResults.length) {\n            filteredResults = [];\n            this.store.favorites = false;\n          }\n        } else {\n          this.results = [];\n        }\n        this.results = filteredResults;\n      } else {\n        if (Array.isArray(this.store.favorites)) {\n          filteredResults = this.store.favorites.filter(item => {\n            const itemName = item.name.toLowerCase().trim();\n            const input = this.searchInput.toLowerCase().trim();\n            return itemName.includes(input);\n          });\n          if (!filteredResults.length) {\n            if (this.searchInput.toLowerCase().trim() == '') {\n              await this.getPokemons();\n              filteredResults = [];\n              return this.store.favorites = filteredResults;\n            }\n            this.results = [];\n            filteredResults = false;\n          }\n          this.store.favorites = filteredResults;\n        } else {\n          this.store.favorites = false;\n        }\n      }\n    },\n    sortAlphabetically(array) {\n      return array.sort((a, b) => {\n        if (a.name.toLowerCase() < b.name.toLowerCase()) return -1;\n        if (a.name.toLowerCase() > b.name.toLowerCase()) return 1;\n        return 0;\n      });\n    },\n    addOrDeleteFavorites(idx) {\n      if (this.results[idx].favorite === 'true') {\n        this.store.favorites = this.store.favorites.filter(item => {\n          return item.name !== this.results[idx].name;\n        });\n        return this.results[idx].favorite = 'false';\n      }\n      this.results[idx].favorite = 'true';\n      this.results[idx].idx = idx;\n      this.store.favorites.push(this.results[idx]);\n      this.store.updateLocalStorage();\n      return this.sortAlphabetically(this.store.favorites);\n    },\n    deleteFavorites(pokemon) {\n      if (this.results[pokemon.idx].favorite === 'true') {\n        this.store.favorites = this.store.favorites.filter(item => {\n          return item.name !== this.results[pokemon.idx].name;\n        });\n        this.store.updateLocalStorage();\n        return this.results[pokemon.idx].favorite = 'false';\n      }\n    },\n    async clearSearch() {\n      await this.getPokemons();\n      this.store.favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n      this.searchInput = '';\n    }\n  }\n};","map":{"version":3,"names":["HelloWorld","name","components","data","welcome","title","info","error","msg","havent","display","displaySpinner","searchInput","results","favorites","displaySearch","displayFavorites","modal","pokemon","methods","setDisplay","result","setTimeout","clearSearch","displayModal","idx","response","fetch","url","json","favorite","markFavorites","i","length","j","store","getPokemons","sortAlphabetically","search","JSON","parse","localStorage","getItem","filteredResults","filter","item","itemName","toLowerCase","trim","input","includes","Array","isArray","array","sort","a","b","addOrDeleteFavorites","push","updateLocalStorage","deleteFavorites"],"sources":["/home/mariangel/Documents/project/prueba/src/App.vue"],"sourcesContent":["<template>\n  <img alt=\"Vue logo\" src=\"./assets/logo.png\">\n  <HelloWorld msg=\"Welcome to Your Vue.js App\"/>\n  {{welcome}}\n</template>\n\n<script>\nimport HelloWorld from './components/HelloWorld.vue'\n\n\nexport default {\n  name: 'App',\n  components: {\n    HelloWorld\n  },\n  data() {\n    return {\n      welcome: {\n        title: 'Welcome to Pokédex',\n        info: 'The digital encyclopedia created by Professor Oak is an invaluable tool to Trainers in the Pokémon world.'\n      },\n      error: {\n        title: 'Uh-oh!',\n        msg: 'You look lost on your journey!'\n      },\n      havent: {\n        title: 'Oh-no!',\n        msg: \"You doesn't have any favorite pokemon!\"\n      },\n      display: false,\n      displaySpinner: false,\n      searchInput: '',\n      results: [],\n      favorites: [],\n      displaySearch: true,\n      displayFavorites: false,\n      modal: false,\n      pokemon: []\n    }\n  },\n  methods:{\n    setDisplay(result) {\n      this.displaySpinner = true;\n      setTimeout(() => {\n        this.displaySpinner = false;\n        this.display = result;\n        this.clearSearch();\n      }, 1900);\n    },\n    async displayModal(pokemon,idx){\n      const response = await fetch(pokemon.url);\n      this.pokemon = await response.json();\n      this.pokemon.idx = idx;\n      this.pokemon.favorite = pokemon.favorite != '' ? pokemon.favorite : '';\n      this.modal = true;\n    },\n    markFavorites(){\n      for (let i = 0; i < this.results.length; i++) {\n        for (let j = 0; j < this.store.favorites.length; j++) {\n          if(this.results[i].name === this.store.favorites[j].name){\n            this.results[i].favorite = 'true';\n          }\n        }\n      }\n    },\n    async getPokemons() {\n      try {\n        const response = await fetch(url);\n        let result = await response.json();\n        this.results = this.sortAlphabetically(result.results);\n        this.markFavorites();\n      } catch (error) {\n        this.results = [];\n      }\n    },\n    async search() {\n      await this.getPokemons()\n      this.store.favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n      let filteredResults = [];\n      this.markFavorites();\n\n      if(this.displaySearch){\n        if (this.results.length) {\n          filteredResults = this.results.filter(item => {\n            const itemName = item.name.toLowerCase().trim();\n            const input = this.searchInput.toLowerCase().trim();\n            return itemName.includes(input);\n          });\n          if(!filteredResults.length){\n            filteredResults = []\n            this.store.favorites = false\n          }\n        } else {\n          this.results = [];\n        }\n        this.results = filteredResults;\n      }else {\n        if (Array.isArray(this.store.favorites)) {\n          filteredResults = this.store.favorites.filter(item => {\n            const itemName = item.name.toLowerCase().trim();\n            const input = this.searchInput.toLowerCase().trim();\n            return itemName.includes(input);\n          });\n          if(!filteredResults.length){\n            if(this.searchInput.toLowerCase().trim() == ''){\n              await this.getPokemons()\n              filteredResults = []\n              return this.store.favorites = filteredResults  \n            }\n            this.results = []\n            filteredResults = false\n          }\n          this.store.favorites = filteredResults    \n        }else{\n          this.store.favorites = false\n        }\n      }       \n    },\n    sortAlphabetically(array){\n      return array.sort((a, b) => {\n        if (a.name.toLowerCase() < b.name.toLowerCase()) return -1;\n        if (a.name.toLowerCase() > b.name.toLowerCase()) return 1;\n        return 0;\n      });\n      \n    },\n    addOrDeleteFavorites(idx){\n      if(this.results[idx].favorite === 'true'){\n        this.store.favorites = this.store.favorites.filter(item => {\n          return item.name !== this.results[idx].name;\n        });\n        return this.results[idx].favorite = 'false';\n      }\n      this.results[idx].favorite = 'true';\n      this.results[idx].idx = idx;\n      this.store.favorites.push(this.results[idx]);\n      this.store.updateLocalStorage();\n      return this.sortAlphabetically(this.store.favorites);\n    },\n    deleteFavorites(pokemon){\n      if (this.results[pokemon.idx].favorite === 'true') {\n        this.store.favorites = this.store.favorites.filter(item => {\n          return item.name !== this.results[pokemon.idx].name;\n        });\n        this.store.updateLocalStorage();\n        return this.results[pokemon.idx].favorite = 'false';\n      }\n    },\n    async clearSearch(){\n      await this.getPokemons()\n      this.store.favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n      this.searchInput = ''\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}