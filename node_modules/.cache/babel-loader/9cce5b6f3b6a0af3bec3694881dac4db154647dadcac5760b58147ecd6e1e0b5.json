{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createApp } from 'vue';\nimport App from './App.vue';\nimport spinner from './components/spinner.js';\nimport button from './components/button.js';\nimport card from './components/card.js';\nimport { store } from './store/store.js';\nimport notresult from './components/notresult.js';\nconst app = createApp({\n  setup() {\n    return {\n      store\n    };\n  },\n  data() {\n    return {\n      welcome: {\n        title: 'Welcome to Pokédex',\n        info: 'The digital encyclopedia created by Professor Oak is an invaluable tool to Trainers in the Pokémon world.'\n      },\n      error: {\n        title: 'Uh-oh!',\n        msg: 'You look lost on your journey!'\n      },\n      havent: {\n        title: 'Oh-no!',\n        msg: \"You doesn't have any favorite pokemon!\"\n      },\n      display: false,\n      displaySpinner: false,\n      searchInput: '',\n      results: [],\n      favorites: [],\n      displaySearch: true,\n      displayFavorites: false,\n      modal: false,\n      pokemon: []\n    };\n  },\n  methods: {\n    setDisplay(result) {\n      this.displaySpinner = true;\n      setTimeout(() => {\n        this.displaySpinner = false;\n        this.display = result;\n        this.clearSearch();\n      }, 1900);\n    },\n    async displayModal(pokemon, idx) {\n      const response = await fetch(pokemon.url);\n      this.pokemon = await response.json();\n      this.pokemon.idx = idx;\n      this.pokemon.favorite = pokemon.favorite != '' ? pokemon.favorite : '';\n      this.modal = true;\n    },\n    markFavorites() {\n      for (let i = 0; i < this.results.length; i++) {\n        for (let j = 0; j < this.store.favorites.length; j++) {\n          if (this.results[i].name === this.store.favorites[j].name) {\n            this.results[i].favorite = 'true';\n          }\n        }\n      }\n    },\n    async getPokemons() {\n      try {\n        const response = await fetch(url);\n        let result = await response.json();\n        this.results = this.sortAlphabetically(result.results);\n        this.markFavorites();\n      } catch (error) {\n        this.results = [];\n      }\n    },\n    async search() {\n      await this.getPokemons();\n      this.store.favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n      let filteredResults = [];\n      this.markFavorites();\n      if (this.displaySearch) {\n        if (this.results.length) {\n          filteredResults = this.results.filter(item => {\n            const itemName = item.name.toLowerCase().trim();\n            const input = this.searchInput.toLowerCase().trim();\n            return itemName.includes(input);\n          });\n          if (!filteredResults.length) {\n            filteredResults = [];\n            this.store.favorites = false;\n          }\n        } else {\n          this.results = [];\n        }\n        this.results = filteredResults;\n      } else {\n        if (Array.isArray(this.store.favorites)) {\n          filteredResults = this.store.favorites.filter(item => {\n            const itemName = item.name.toLowerCase().trim();\n            const input = this.searchInput.toLowerCase().trim();\n            return itemName.includes(input);\n          });\n          if (!filteredResults.length) {\n            if (this.searchInput.toLowerCase().trim() == '') {\n              await this.getPokemons();\n              filteredResults = [];\n              return this.store.favorites = filteredResults;\n            }\n            this.results = [];\n            filteredResults = false;\n          }\n          this.store.favorites = filteredResults;\n        } else {\n          this.store.favorites = false;\n        }\n      }\n    },\n    sortAlphabetically(array) {\n      return array.sort((a, b) => {\n        if (a.name.toLowerCase() < b.name.toLowerCase()) return -1;\n        if (a.name.toLowerCase() > b.name.toLowerCase()) return 1;\n        return 0;\n      });\n    },\n    addOrDeleteFavorites(idx) {\n      if (this.results[idx].favorite === 'true') {\n        this.store.favorites = this.store.favorites.filter(item => {\n          return item.name !== this.results[idx].name;\n        });\n        return this.results[idx].favorite = 'false';\n      }\n      this.results[idx].favorite = 'true';\n      this.results[idx].idx = idx;\n      this.store.favorites.push(this.results[idx]);\n      this.store.updateLocalStorage();\n      return this.sortAlphabetically(this.store.favorites);\n    },\n    deleteFavorites(pokemon) {\n      if (this.results[pokemon.idx].favorite === 'true') {\n        this.store.favorites = this.store.favorites.filter(item => {\n          return item.name !== this.results[pokemon.idx].name;\n        });\n        this.store.updateLocalStorage();\n        return this.results[pokemon.idx].favorite = 'false';\n      }\n    },\n    async clearSearch() {\n      await this.getPokemons();\n      this.store.favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n      this.searchInput = '';\n    }\n  },\n  mounted() {\n    this.getPokemons();\n  }\n});\napp.component('spinner', spinner);\napp.component('button-custom', button);\napp.component('card', card);\napp.component('notresult', notresult);\ncreateApp(App).mount('#app');","map":{"version":3,"names":["createApp","App","spinner","button","card","store","notresult","app","setup","data","welcome","title","info","error","msg","havent","display","displaySpinner","searchInput","results","favorites","displaySearch","displayFavorites","modal","pokemon","methods","setDisplay","result","setTimeout","clearSearch","displayModal","idx","response","fetch","url","json","favorite","markFavorites","i","length","j","name","getPokemons","sortAlphabetically","search","JSON","parse","localStorage","getItem","filteredResults","filter","item","itemName","toLowerCase","trim","input","includes","Array","isArray","array","sort","a","b","addOrDeleteFavorites","push","updateLocalStorage","deleteFavorites","mounted","component","mount"],"sources":["/home/mariangel/Documents/project/prueba/src/main.js"],"sourcesContent":["import { createApp } from 'vue'\nimport App from './App.vue'\nimport spinner from './components/spinner.js';\nimport button from './components/button.js';\nimport card from './components/card.js';\nimport { store } from './store/store.js'\nimport notresult from './components/notresult.js';\n\nconst app =  createApp({\n  \n  setup() {\n    return { store };\n  },\n  data() {\n    return {\n      welcome: {\n        title: 'Welcome to Pokédex',\n        info: 'The digital encyclopedia created by Professor Oak is an invaluable tool to Trainers in the Pokémon world.'\n      },\n      error: {\n        title: 'Uh-oh!',\n        msg: 'You look lost on your journey!'\n      },\n      havent: {\n        title: 'Oh-no!',\n        msg: \"You doesn't have any favorite pokemon!\"\n      },\n      display: false,\n      displaySpinner: false,\n      searchInput: '',\n      results: [],\n      favorites: [],\n      displaySearch: true,\n      displayFavorites: false,\n      modal: false,\n      pokemon: []\n    };\n  },\n  methods: {\n    setDisplay(result) {\n      this.displaySpinner = true;\n      setTimeout(() => {\n        this.displaySpinner = false;\n        this.display = result;\n        this.clearSearch();\n      }, 1900);\n    },\n    async displayModal(pokemon,idx){\n      const response = await fetch(pokemon.url);\n      this.pokemon = await response.json();\n      this.pokemon.idx = idx;\n      this.pokemon.favorite = pokemon.favorite != '' ? pokemon.favorite : '';\n      this.modal = true;\n    },\n    markFavorites(){\n      for (let i = 0; i < this.results.length; i++) {\n        for (let j = 0; j < this.store.favorites.length; j++) {\n          if(this.results[i].name === this.store.favorites[j].name){\n            this.results[i].favorite = 'true';\n          }\n        }\n      }\n    },\n    async getPokemons() {\n      try {\n        const response = await fetch(url);\n        let result = await response.json();\n        this.results = this.sortAlphabetically(result.results);\n        this.markFavorites();\n      } catch (error) {\n        this.results = [];\n      }\n    },\n    async search() {\n      await this.getPokemons()\n      this.store.favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n      let filteredResults = [];\n      this.markFavorites();\n\n      if(this.displaySearch){\n        if (this.results.length) {\n          filteredResults = this.results.filter(item => {\n            const itemName = item.name.toLowerCase().trim();\n            const input = this.searchInput.toLowerCase().trim();\n            return itemName.includes(input);\n          });\n          if(!filteredResults.length){\n            filteredResults = []\n            this.store.favorites = false\n          }\n        } else {\n          this.results = [];\n        }\n        this.results = filteredResults;\n      }else {\n        if (Array.isArray(this.store.favorites)) {\n          filteredResults = this.store.favorites.filter(item => {\n            const itemName = item.name.toLowerCase().trim();\n            const input = this.searchInput.toLowerCase().trim();\n            return itemName.includes(input);\n          });\n          if(!filteredResults.length){\n            if(this.searchInput.toLowerCase().trim() == ''){\n              await this.getPokemons()\n              filteredResults = []\n              return this.store.favorites = filteredResults  \n            }\n            this.results = []\n            filteredResults = false\n          }\n          this.store.favorites = filteredResults    \n        }else{\n          this.store.favorites = false\n        }\n      }       \n    },\n    sortAlphabetically(array){\n      return array.sort((a, b) => {\n        if (a.name.toLowerCase() < b.name.toLowerCase()) return -1;\n        if (a.name.toLowerCase() > b.name.toLowerCase()) return 1;\n        return 0;\n      });\n      \n    },\n    addOrDeleteFavorites(idx){\n      if(this.results[idx].favorite === 'true'){\n        this.store.favorites = this.store.favorites.filter(item => {\n          return item.name !== this.results[idx].name;\n        });\n        return this.results[idx].favorite = 'false';\n      }\n      this.results[idx].favorite = 'true';\n      this.results[idx].idx = idx;\n      this.store.favorites.push(this.results[idx]);\n      this.store.updateLocalStorage();\n      return this.sortAlphabetically(this.store.favorites);\n    },\n    deleteFavorites(pokemon){\n      if (this.results[pokemon.idx].favorite === 'true') {\n        this.store.favorites = this.store.favorites.filter(item => {\n          return item.name !== this.results[pokemon.idx].name;\n        });\n        this.store.updateLocalStorage();\n        return this.results[pokemon.idx].favorite = 'false';\n      }\n    },\n    async clearSearch(){\n      await this.getPokemons()\n      this.store.favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n      this.searchInput = ''\n    }\n  },\n  mounted() {\n    this.getPokemons();\n  },\n \n});\n\n\napp.component('spinner', spinner);\napp.component('button-custom', button);\napp.component('card', card);\napp.component('notresult', notresult)\n\ncreateApp(App).mount('#app')\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}